<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Chelsea+Market&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
    <title>Rat-A-Turnip Price Predictor</title>
</head>
<body>
<h1>Rat-A-Turnip Price Predictor</h1>
<p class="turnip-text" style="margin-bottom: 8px;">
    Welcome to the Rat-A-Turnip Price Predictor! Rat-at-ta, we sniff out profit like a <b>turnip-savvy snitch</b> üê≠‚ú®
</p>
<p class="turnip-text" style="margin-bottom: 8px;">
    With a little luck, you‚Äôll bloom richer than a bell tree ‚Äî <i>unless your bells fall in the wrong ditch...</i><br>
</p>
<p class="turnip-text" style="margin-bottom: 40px;">
    Well, never mind! Just enter the previous pattern if you know it, and the prices you have, for a big surprise ahead!
</p>

<hr style="border: none; border-top: 2px solid rgba(88,68,52, 0.6); margin: 30px 25%">
<form method="post" action="/prever">
    <div class="pattern-section" style="margin-bottom: 28px;">>
        <label for="previous-pattern" style="font-size: 18px;">Select the previous week's pattern:</label>
        <select id="previous-pattern" name="previous_pattern">
            <option value="unknown">Unknown</option>
            <option value="decreasing">Decreasing</option>
            <option value="fluctuating">Fluctuating</option>
            <option value="small_spike">Small Spike</option>
            <option value="large_spike">Large Spike</option>
        </select>
    </div>

    <div class="week-section">
        {% for day in ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'] %}
        <div class="day-group">
            <h3>{{ day.capitalize() }}</h3>
            <div class="hours-group">
                <div>
                    <label for="{{ day }}-am">AM:</label>
                    <input type="number" id="{{ day }}-am" name="{{ day }}_am" placeholder="Enter price">
                </div>
                <div>
                    <label for="{{ day }}-pm">PM:</label>
                    <input type="number" id="{{ day }}-pm" name="{{ day }}_pm" placeholder="Enter price">
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="submit-section">
        <button id="predict-button" type="submit">Predict</button>
    </div>
</form>

{% if prediction and plot_div %}
<div id="prediction-result" style="
        max-width: 900px;
        margin: 20px auto;
        background-color: #f0e5d8;
        padding: 20px;
        border-radius: 10px;
        display: flex;
        gap: 30px;
        align-items: flex-start;
        color: #5c4033;
        font-size: 16px;
        white-space: pre-line;
    ">
    <div style="flex: 1;">
        {{ prediction | safe }}
    </div>
    <div style="flex: 1; display: flex; align-items: flex-start;">
        <div style="margin-top: -70px; width: 100%;">
            {{ plot_div | safe }}
        </div>
    </div>
</div>
{% elif prediction %}
<div id="prediction-result" style="
        max-width: 800px;
        margin: 20px auto;
        background-color: #f0e5d8;
        padding: 20px;
        border-radius: 10px;
        color: #5c4033;
        font-size: 16px;
        white-space: pre-line;
    ">
    {{ prediction | safe }}
</div>
{% elif plot_div %}
<div style="flex: 1; position: relative; top: -20px;">
    {{ plot_div | safe }}
</div>
{% endif %}

</body>
</html>